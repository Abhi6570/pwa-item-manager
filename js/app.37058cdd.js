(function(){"use strict";var e={1223:function(e,t,i){var o=i(5130),r=i(6768);const n={id:"app"};function a(e,t,i,o,a,s){const l=(0,r.g2)("HomePage"),m=(0,r.g2)("ItemManager");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(l),(0,r.bF)(m)])}var s=i(4232);const l={class:"item-manager"},m={class:"search-bar"},c={key:0,class:"suggestions"},u=["onClick"],d={key:0,class:"error"},g={key:1},h={class:"image-section"},f={class:"image-field"},p={key:0},_=["src"],k={class:"image-field"},v={key:0},b=["src"],y={class:"image-field"},L={key:0},I=["src"],w={class:"image-field"},C={key:0},E=["src"];function F(e,t,i,n,a,F){return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("header",m,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.itemCode=e),placeholder:"Enter Item Code",onInput:t[1]||(t[1]=(...e)=>F.fetchItemSuggestions&&F.fetchItemSuggestions(...e))},null,544),[[o.Jo,a.itemCode]]),a.suggestions.length?((0,r.uX)(),(0,r.CE)("ul",c,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.suggestions,((e,t)=>((0,r.uX)(),(0,r.CE)("li",{key:t,onClick:t=>F.selectSuggestion(e.code)},(0,s.v_)(e.name),9,u)))),128))])):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>F.handleAction&&F.handleAction(...e))},(0,s.v_)(F.buttonText),1)]),a.error?((0,r.uX)(),(0,r.CE)("div",d,(0,s.v_)(a.error),1)):(0,r.Q3)("",!0),a.item?((0,r.uX)(),(0,r.CE)("div",g,[t[22]||(t[22]=(0,r.Lk)("h2",null,"Modify Item Details",-1)),(0,r.Lk)("form",{onSubmit:t[11]||(t[11]=(0,o.D$)(((...e)=>F.updateItem&&F.updateItem(...e)),["prevent"]))},[(0,r.Lk)("div",h,[t[16]||(t[16]=(0,r.Lk)("h3",null,"Item Images",-1)),(0,r.Lk)("div",f,[t[12]||(t[12]=(0,r.Lk)("label",{for:"custom_img_front"},"Front Image:",-1)),a.item.custom_img_front?((0,r.uX)(),(0,r.CE)("div",p,[(0,r.Lk)("img",{src:a.item.custom_img_front,alt:"Front Image",width:"100",height:"100"},null,8,_)])):(0,r.Q3)("",!0),(0,r.Lk)("input",{id:"custom_img_front",type:"file",onChange:t[3]||(t[3]=e=>F.handleImageUpload("custom_img_front",e)),accept:"image/*"},null,32)]),(0,r.Lk)("div",k,[t[13]||(t[13]=(0,r.Lk)("label",{for:"custom_img_rear"},"Rear Image:",-1)),a.item.custom_img_rear?((0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("img",{src:a.item.custom_img_rear,alt:"Rear Image",width:"100",height:"100"},null,8,b)])):(0,r.Q3)("",!0),(0,r.Lk)("input",{id:"custom_img_rear",type:"file",onChange:t[4]||(t[4]=e=>F.handleImageUpload("custom_img_rear",e)),accept:"image/*"},null,32)]),(0,r.Lk)("div",y,[t[14]||(t[14]=(0,r.Lk)("label",{for:"custom_img_right"},"Right Image:",-1)),a.item.custom_img_right?((0,r.uX)(),(0,r.CE)("div",L,[(0,r.Lk)("img",{src:a.item.custom_img_right,alt:"Right Image",width:"100",height:"100"},null,8,I)])):(0,r.Q3)("",!0),(0,r.Lk)("input",{id:"custom_img_right",type:"file",onChange:t[5]||(t[5]=e=>F.handleImageUpload("custom_img_right",e)),accept:"image/*"},null,32)]),(0,r.Lk)("div",w,[t[15]||(t[15]=(0,r.Lk)("label",{for:"custom_img_left"},"Left Image:",-1)),a.item.custom_img_left?((0,r.uX)(),(0,r.CE)("div",C,[(0,r.Lk)("img",{src:a.item.custom_img_left,alt:"Left Image",width:"100",height:"100"},null,8,E)])):(0,r.Q3)("",!0),(0,r.Lk)("input",{id:"custom_img_left",type:"file",onChange:t[6]||(t[6]=e=>F.handleImageUpload("custom_img_left",e)),accept:"image/*"},null,32)])]),(0,r.Lk)("div",null,[t[17]||(t[17]=(0,r.Lk)("label",{for:"name"},"Name:",-1)),(0,r.bo)((0,r.Lk)("input",{id:"name","onUpdate:modelValue":t[7]||(t[7]=e=>a.item.name=e),type:"text"},null,512),[[o.Jo,a.item.name]])]),(0,r.Lk)("div",null,[t[18]||(t[18]=(0,r.Lk)("label",{for:"brand"},"Brand:",-1)),(0,r.bo)((0,r.Lk)("input",{id:"brand","onUpdate:modelValue":t[8]||(t[8]=e=>a.item.brand=e),type:"text"},null,512),[[o.Jo,a.item.brand]])]),(0,r.Lk)("div",null,[t[19]||(t[19]=(0,r.Lk)("label",{for:"price"},"Price:",-1)),(0,r.bo)((0,r.Lk)("input",{id:"price","onUpdate:modelValue":t[9]||(t[9]=e=>a.item.price=e),type:"number",step:"0.01"},null,512),[[o.Jo,a.item.price]])]),(0,r.Lk)("div",null,[t[20]||(t[20]=(0,r.Lk)("label",{for:"description"},"Description:",-1)),(0,r.bo)((0,r.Lk)("textarea",{id:"description","onUpdate:modelValue":t[10]||(t[10]=e=>a.item.description=e)},null,512),[[o.Jo,a.item.description]])]),t[21]||(t[21]=(0,r.Lk)("button",{type:"submit"},"Update Item",-1))],32)])):(0,r.Q3)("",!0)])}i(1454);var A=i(4373),S={data(){return{itemCode:"",item:null,error:null,isFetching:!0,suggestions:[]}},computed:{buttonText(){return this.isFetching?"Fetch Item":"Update Item"}},methods:{async handleAction(){this.isFetching?this.fetchItem():this.updateItem()},async fetchItemSuggestions(){try{const e=await A.A.get(`https://yash.tranqwality.com/api/resource/Item?filters=[["name", "like", "%${this.itemCode}%"]]`,{headers:{Authorization:"token b73c5b96959aa53:1d8250a9d955d9b"}});this.suggestions=e.data.data.map((e=>({name:e.name,code:e.name})))}catch(e){console.error("Error fetching suggestions: ",e),this.suggestions=[]}},selectSuggestion(e){this.itemCode=e,this.suggestions=[],this.fetchItem()},async fetchItem(){if(this.error=null,this.item=null,this.itemCode.trim())try{const e=await A.A.get(`https://yash.tranqwality.com/api/resource/Item/${this.itemCode}`,{headers:{Authorization:"token b73c5b96959aa53:1d8250a9d955d9b"}});this.item=e.data.data,this.item.custom_img_front=this.item.custom_img_front||null,this.item.custom_img_rear=this.item.custom_img_rear||null,this.item.custom_img_right=this.item.custom_img_right||null,this.item.custom_img_left=this.item.custom_img_left||null,this.isFetching=!1}catch(e){this.error="Failed to fetch item. Please check the item code.",console.error(e)}else this.error="Please enter a valid item code."},async updateItem(){this.error=null;const e={name:this.item.name,brand:this.item.brand,price:this.item.price,description:this.item.description,custom_img_front:this.item.custom_img_front,custom_img_rear:this.item.custom_img_rear,custom_img_right:this.item.custom_img_right,custom_img_left:this.item.custom_img_left};try{const t=await A.A.put(`https://yash.tranqwality.com/api/resource/Item/${this.itemCode}`,e,{headers:{Authorization:"token b73c5b96959aa53:1d8250a9d955d9b"}});alert("Item updated successfully!"),console.log(t.data)}catch(t){console.error("Error updating item: ",t),this.error="Failed to update item. Please try again."}},handleImageUpload(e,t){const i=t.target.files[0];if(i&&i.type.startsWith("image/")){const t=new FileReader;t.onloadend=()=>{this.item[e]=t.result},t.readAsDataURL(i)}else this.error="Please upload a valid image file."}}},O=i(1241);const U=(0,O.A)(S,[["render",F],["__scopeId","data-v-6d0a84f1"]]);var x=U,X={components:{ItemManager:x}};const j=(0,O.A)(X,[["render",a]]);var P=j,Q=i(4458);(0,Q.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{console.log("Service Worker registered with scope: ",e.scope)})).catch((e=>{console.log("Service Worker registration failed: ",e)}))})),(0,o.Ef)(P).mount("#app")}},t={};function i(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,o,r,n){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],n=e[c][2];for(var s=!0,l=0;l<o.length;l++)(!1&n||a>=n)&&Object.keys(i.O).every((function(e){return i.O[e](o[l])}))?o.splice(l--,1):(s=!1,n<a&&(a=n));if(s){e.splice(c--,1);var m=r();void 0!==m&&(t=m)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,r,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,n,a=o[0],s=o[1],l=o[2],m=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(l)var c=l(i)}for(t&&t(o);m<a.length;m++)n=a[m],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(c)},o=self["webpackChunkpwa_item_manager"]=self["webpackChunkpwa_item_manager"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=i.O(void 0,[504],(function(){return i(1223)}));o=i.O(o)})();
//# sourceMappingURL=app.37058cdd.js.map